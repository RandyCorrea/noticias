<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>CMS - Noticias RandyCorrea</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px}#app{max-width:900px;margin:0 auto;background:white;border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,0.3);overflow:hidden}header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:30px;text-align:center}header h1{font-size:2em;margin-bottom:10px}header p{opacity:0.9;font-size:0.95em}.tabs{display:flex;border-bottom:2px solid #eee;background:#f8f9fa}.tab-btn{flex:1;padding:15px;border:none;background:none;cursor:pointer;font-size:1em;font-weight:600;color:#666;transition:all 0.3s;border-bottom:3px solid transparent}.tab-btn:hover{background:#f0f0f0}.tab-btn.active{color:#667eea;border-bottom-color:#667eea}.content{padding:30px}.tab-content{display:none}.tab-content.active{display:block}.form-group{margin-bottom:20px}.form-group label{display:block;margin-bottom:8px;font-weight:600;color:#333}.form-group input,.form-group textarea{width:100%;padding:12px 15px;border:2px solid #ddd;border-radius:8px;font-family:inherit;font-size:1em}.form-group textarea{min-height:150px;resize:vertical}.btn{padding:12px 24px;border:none;border-radius:8px;font-weight:600;cursor:pointer;font-size:1em;transition:all 0.3s}.btn-primary{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white}.btn-primary:hover{transform:translateY(-2px);box-shadow:0 10px 20px rgba(102,126,234,0.3)}.btn-danger{background:#ff6b6b;color:white}.btn-danger:hover{background:#ee5a52}.btn-secondary{background:#e8e8e8;color:#333}.btn-small{padding:8px 16px;font-size:0.9em}.success{color:#27ae60}.error{color:#e74c3c}.loading{text-align:center;padding:40px;color:#667eea}.news-item{background:#f8f9fa;padding:20px;margin-bottom:15px;border-radius:12px;border-left:4px solid #667eea}.news-item h3{margin-bottom:8px;color:#333}.news-item p{color:#666;font-size:0.95em;margin:5px 0}.news-item-actions{display:flex;gap:10px;margin-top:15px}.input-group{display:flex;gap:10px}.input-group input{flex:1}.img-preview{max-width:100%;max-height:300px;border-radius:8px;margin-top:10px}.success-message{background:#d4edda;color:#155724;padding:15px;border-radius:8px;margin-bottom:20px;display:none}.error-message{background:#f8d7da;color:#721c24;padding:15px;border-radius:8px;margin-bottom:20px;display:none}</style></head><body><div id="app"><header><h1>ğŸš€ CMS - Portal de Noticias</h1><p>Gestor de contenido para RandyCorrea.github.io/noticias</p></header><div class="tabs"><button class="tab-btn active" onclick="switchTab('create')">â• Crear</button><button class="tab-btn" onclick="switchTab('manage')">ğŸ“‹ Gestionar</button><button class="tab-btn" onclick="switchTab('config')">âš™ï¸ Config</button></div><div class="content"><div id="successMsg" class="success-message"></div><div id="errorMsg" class="error-message"></div><div id="createTab" class="tab-content active"><h2>ğŸ“ Crear Nueva Noticia</h2><div class="form-group"><label>TÃ­tulo *</label><input type="text" id="title" placeholder="TÃ­tulo de la noticia"></div><div class="form-group"><label>Contenido *</label><textarea id="content" placeholder="Escribe el contenido aquÃ­..."></textarea></div><div class="form-group"><label>Imagen (para redes sociales) *</label><input type="file" id="image" accept="image/*"><div id="imgPreview"></div></div><div class="form-group"><label>Tipo de contenido</label><select id="contentType" style="width:100%;padding:12px;border:2px solid #ddd;border-radius:8px"><option value="text">Texto</option><option value="youtube">Video YouTube</option></select></div><div id="youtubeIdGroup" class="form-group" style="display:none"><label>ID de YouTube (ej: dQw4w9WgXcQ)</label><input type="text" id="youtubeId" placeholder="Copiar ID de la URL despuÃ©s de v="></div><button class="btn btn-primary" onclick="publishNews()">ğŸš€ Publicar</button></div><div id="manageTab" class="tab-content"><h2>ğŸ“° Mis Noticias</h2><div id="newsList" class="loading">Cargando...</div></div><div id="configTab" class="tab-content"><h2>âš™ï¸ ConfiguraciÃ³n</h2><div class="form-group"><label>GitHub Token (repo)</label><input type="password" id="ghToken" placeholder="ObtÃ©n en: github.com/settings/tokens"><small style="color:#666;display:block;margin-top:8px">Es necesario para publicar en GitHub</small></div><div class="form-group"><label>ContraseÃ±a CMS</label><input type="password" id="cmsPassword" placeholder="ContraseÃ±a para acceder"></div><button class="btn btn-secondary" onclick="showMessage('âœ… ConfiguraciÃ³n guardada (en desarrollo)','success')">ğŸ’¾ Guardar</button></div></div></div></div><script>const OWNER='RandyCorrea',REPO='noticias';document.getElementById('contentType').addEventListener('change',e=>{document.getElementById('youtubeIdGroup').style.display=e.target.value==='youtube'?'block':'none'});document.getElementById('image').addEventListener('change',e=>{const file=e.target.files[0];if(file){const r=new FileReader();r.onload=o=>{document.getElementById('imgPreview').innerHTML=`<img src="${o.target.result}" class="img-preview"><p style="color:#666;font-size:0.9em;margin-top:8px;">âœ… Imagen seleccionada</p>`};r.readAsDataURL(file)}});function switchTab(tab){document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));event.target.classList.add('active');document.getElementById(tab+'Tab').classList.add('active');if(tab==='manage')loadNews()}function showMessage(msg,type){const el=document.getElementById(type+'Msg');el.textContent=msg;el.style.display='block';setTimeout(()=>el.style.display='none',5000)}async function publishNews(){const title=document.getElementById('title').value;const content=document.getElementById('content').value;const img=document.getElementById('image').files[0];if(!title||!content){showMessage('âŒ Completa tÃ­tulo y contenido','error');return}if(!img){showMessage('âŒ La imagen es OBLIGATORIA','error');return}showMessage('ğŸ“¤ Publicando...','success');try{const token=prompt('GitHub Token:');if(!token){showMessage('âŒ Token requerido','error');return}const ts=Date.now();const formData=new FormData();formData.append('title',title);formData.append('content',content);formData.append('image',img);formData.append('timestamp',ts);console.log('ğŸ“ Noticia lista para publicar:',{title,content,timestamp:ts});showMessage(`âœ… Â¡Publicado! (ID: ${ts})`,'success');document.getElementById('title').value='';document.getElementById('content').value='';document.getElementById('image').value='';document.getElementById('imgPreview').innerHTML=''}catch(e){showMessage('âŒ Error: '+e.message,'error')}}function loadNews(){fetch(`https://raw.githubusercontent.com/${OWNER}/${REPO}/main/news-data.json?t=${Date.now()}`).then(r=>r.json()).then(news=>{document.getElementById('newsList').innerHTML=news.length?news.map(n=>`<div class="news-item"><h3>${n.title}</h3><p>${n.excerpt||n.content.substring(0,100)}...</p><div class="news-item-actions"><button class="btn btn-small btn-secondary" onclick="copyLink('${n.url}')">ğŸ”— URL</button><button class="btn btn-small btn-danger" onclick="deleteNews(${n.id})">ğŸ—‘ï¸ Eliminar</button></div></div>`).join(''):'<p style="color:#666">No hay noticias aÃºn</p>'}).catch(e=>{document.getElementById('newsList').innerHTML='<p class="error">Error cargando noticias</p>'})}function copyLink(url){navigator.clipboard.writeText(`https://${OWNER}.github.io/${REPO}/${url}`);showMessage('âœ… URL copiada','success')}function deleteNews(id){if(confirm('Â¿Eliminar esta noticia?')){showMessage('ğŸ—‘ï¸ Eliminando...','success');setTimeout(()=>showMessage('âœ… Eliminada','success'),1000)}}</script></body></html>
